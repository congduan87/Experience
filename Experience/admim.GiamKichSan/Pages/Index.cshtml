@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}
@*<style>
    </style>
    <div class="text-center">
        <h1 class="display-4">Welcome</h1>
        <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
    </div>
    <div class="toolbar-container"></div>
    <div id="editor" name="editor">
        <h2>The three greatest things you learn from traveling</h2>

        <p>Like all the great things on earth traveling teaches us by example. Here are some of the most precious lessons I’ve learned over the years of traveling.</p>

        <h3>Appreciation of diversity</h3>

        <p>Getting used to an entirely different culture can be challenging. While it’s also nice to learn about cultures online or from books, nothing comes close to experiencing <a href="https://en.wikipedia.org/wiki/Cultural_diversity">cultural diversity</a> in person. You learn to appreciate each and every single one of the differences while you become more culturally fluid.</p>

        <figure class="image image-style-align-right">
            <img src="~/lib/ckeditor5/sample/img/umbrellas.jpg" alt="Three Monks walking on ancient temple.">
            <figcaption>Leaving your comfort zone might lead you to such beautiful sceneries like this one.</figcaption>
        </figure>

        <h3>Confidence</h3>

        <p>Going to a new place can be quite terrifying. While change and uncertainty makes us scared, traveling teaches us how ridiculous it is to be afraid of something before it happens. The moment you face your fear and see there was nothing to be afraid of, is the moment you discover bliss.</p>
    </div>

    <textarea name="editor2" id="editor2" rows="10" cols="80">
                    This is my textarea to be replaced with CKEditor 4.
    </textarea>*@

<h1>Document editor</h1>

<!-- The toolbar will be rendered in this container. -->
<div id="toolbar-container"></div>

<!-- This container will become the editable. -->
<div id="editor">
    <p>This is the initial editor content.</p>
</div>


<button onclick="submitCKEditor()">OK</button>
<button onclick="setCKEditor()">SetValue</button>

<div id="setvalueckEdit"></div>

@section scripts{
    <script src="~/lib/ckeditor5/ckeditor.js"></script>
    @*<script>
            //DecoupledEditor
            //    .create(document.querySelector('#editor'), {
            //        // toolbar: [ 'heading', '|', 'bold', 'italic', 'link' ]
            //    })
            //    .then(editor => {
            //        const toolbarContainer = document.querySelector('main .toolbar-container');

            //        toolbarContainer.prepend(editor.ui.view.toolbar.element);

            //        window.editor = editor;
            //    })
            //    .catch(err => {
            //        console.error(err.stack);
            //    });
            $(document).ready(function () {
                CKEDITOR.replace('editor2');

            });



        </script>
        <script>
            $('#editor').on('blur', function (e) {
                console.log(CKEDITOR.instances['editor'].getData());
            });
        </script>*@

    <script>
        DecoupledEditor
            .create(document.querySelector('#editor'))
            .then(editor => {
                const toolbarContainer = document.querySelector('#toolbar-container');

                toolbarContainer.appendChild(editor.ui.view.toolbar.element);
                window.editor1 = editor;
            })
            .catch(error => {
                console.error(error);
            });

        submitCKEditor = function () {
            console.log(window.editor1.getData());
        };
        setCKEditor = function () {

            //let htmlEditor = window.editor1.setData('<h1>Vu Cong Duan</h1>') + '';
            //let arrayEditor = htmlEditor
            $('#setvalueckEdit').html(window.editor1.getData());
        };
    </script>

}
